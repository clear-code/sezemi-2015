# シナリオ

## 目的

2015年のSEゼミのテーマは「OSS開発」です。2015年のSEゼミ第1弾の「リーダ
ブルコード勉強会」の目的は「参加者のリーダブルコード力のレベルアップ」
です。

どうしてリーダブルコード力のレベルアップを目的にしているかというと、
OSS開発ではリーダブルなコードが重要だからです。多くのOSSは広く誰からも
改良・バグ修正の変更を受けつけています。もちろん、みなさんも改良・バグ
修正の変更を提案することができます。そして、2015年のSEゼミはそれを支援
します。

みなさんの改良・バグ修正を取り込むかどうかはそのOSSの開発者が判断しま
す。妥当なら取り込みますし、方針に合わなければ取り込まれないこともあり
ます。いずれにしても何かしら判断します。もし、みなさんが提案する変更が
既存のコードを変えるものなら、そのコードが何をどう変えるものなのかは判
断の大きな材料になります。そのコードがリーダブルなコードで書かれていれ
ば、OSSの開発者は判断しやすくなります。わかりにくければ、判断自体を放
棄してしまうかもしれません。

今までみなさんが書いてきたコードは「誰かに読まれること」を意識していな
いコードの方が多いでしょう。しかし、OSSの開発では「誰かに読まれること」
は当たり前です。そのため、この勉強会ではOSSの開発にとって重要な「読む
人が読みやすいコード」を書ける力、「リーダブルコード力」のレベルアップ
を目的とします。

ただし、「今日だけ」レベルアップすることではなく、「今後も継続的に」レ
ベルアップすることを目指します。

そのために、リーダブルコードを書くテクニックを「本や先人から教わる」の
ではなく、「自分で発見」する方法を身につけることを目指します。具体的に
は、「コードを書くだけ」ではなく、「コードを読み書きする」習慣を身につ
けることを目指します。この習慣によりリーダブルコードを自分で発見してい
けば、今後も継続的にリーダブルコード力のレベルアップを実現できます。な
お、これはOSS開発の世界では当たり前のことです。

## 目的の評価方法

習慣になったかどうかは1日で判断することはできません。よって、「○日読み
書きを続けていたかどうか」といった定量的な基準を使うことができません。
そのため、次の定性的な基準で目的を達成できたかを判断します。

  * これからは1つ以上のOSSプロジェクトのコードや日々のコミットを
    継続的に読もうと思うか
  * 企業研究の一環として、志望先企業が公開しているOSS製品の
    ソースコードを事前に見るようにしたり、
    採用面接時に「御社のコードを見せてください」とお願いしたり
    といった要領で、実際に書かれているコードに目を通そうと思うか
  * 採用面接時に
    「御社の開発チームでは製品のコードに関してどのような方法で
    情報共有を図っていますか？」
    「御社の開発チームは日々の開発でチーム内の他のメンバー
    のコードを読みあっていますか？」
    など、リーダブルなコードを読み書きする文化の有無について聞くと思うか

## 開始前

  * 参加者は開発言語別にグループ分けされていること
    * 座席を事前に決めておくのでそこに座ってもらう
  * 参加者はGitHubアカウントが書かれた名札をつけていること
  * 早く着いた参加者には [シナリオ](scenario.md) または [課題](task.md) の説明を読んでいてもらう
  * メンターはGitHubアカウントが書かれた名札をつけていること
    * 開発に参加しているOSSのプロダクト名も書かれているとなおよい
  * メンターは「${自分のアカウント名}-sezemi-2015-readable-code」というリポジトリーを作っておくこと

## 10:00 アイスブレーク1

（主催のSEプラスさんによるもの）

## 10:05 アイスブレーク2

目的:

  * 参加者がいつも通りにコードを書ける状態になること

目的のために達成したいこと:

  * 参加者がリラックスすること
  * 同じグループの人たちがなじむこと
  * 勉強会の会場でいつも通りGit・GitHubを使えることを確認すること
    * 問題があったらこの時点で解決しておきたい
  * 声をだすこと

やること:

  * トレーナーはスライドを使って↓に書いているやり方を説明する。
    （スライドはicebreaker/や↓を参照。）
    * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2014-readable-code-2-icebreaker/)
    * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2014-readable-code-2-icebreaker)
    * リポジトリーにREADME.mdを作り、次の内容を書く。
      * 担当グループの開発言語。
      * メンターの自己紹介。
  * 自分のGitHubアカウントで
    「${自分のアカウント名}-sezemi-2015-readable-code」
    というリポジトリーを作る。
  * 「README.md」を作って、そこに開発言語を書いてcommit & pushする。
    * プログラムを書く時に使うテキストエディターやIDEを使うこと。
  * 「${自分のアカウント名}.md」を作って、簡単に自己紹介文を書いて
    commit & pushする。
    * プログラムを書く時に使うテキストエディターやIDEを使うこと。
    * 誰でも見れる状態になるので、公開情報だけ書くように注意喚起すること。
  * pushしたらメンターに自分のリポジトリーを伝える。伝え方は以下のどれか。
    * メンターのリポジトリーのIssueに自分のリポジトリーのURLを書き込む。
      書き込んだらメンターに確認してもらう。
    * メンターに口頭で自分のリポジトリーを伝える。
  * メンターが全員のリポジトリーを集めたら終了！
  * 時間が余ったら、グループでまだ終わっていない人をサポートしよう。
  * グループの人が全員できたら [シナリオ](scenario.md) または
    [課題](task.md) を予習。

ヒント:

  * グループでつまづいている人がいたら助けてあげよう。

## 10:20 進め方の説明

introduction/以下にあるスライドを参照。

  * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2014-readable-code-2-introduction/)
  * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2014-readable-code-2-introduction)

## 10:35 練習

目的:

  * 参加者が今日の開発の流れを理解すること

目的のために達成したいこと:

  * 実際に少しやってみてうまくいくこと
    * 問題があったらこの時点で解決しておきたい
  * メンターと話すこと
    * 開発が始まってから、いざ困ったことがあったとき、
      メンターに声をかけることを気負いしないようにしたい。
      声をかけられずに困ったまま時間が過ぎていったということを
      なくしたい。
    * メンターは、参加者に話しやすいイメージを持ってもらうとよさそう。

やること:

  * トレーナーはスライドを使いながら[課題](task.md)の最初に書いている概
    要と進め方を説明します。（スライドはexercise/や↓を参照。）
    （大事なことなので今日の目的はなんなのかを重点的に説明します。）
    * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2014-readable-code-2-exercise/)
    * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2014-readable-code-2-exercise)
  * 実際に仕様1を実装してください。
  * 課題は「${自分のアカウント名}-sezemi-2014-readable-code-2」に
    commit & pushしていってください。
  * 工夫したことがあったら「memo.md」というファイルを作ってメモしていっ
    てください。このファイルもリポジトリーにcommit & pushしていってください。
  * メンターは仕様を理解できない人がいたら
    （実装方法じゃなくて、仕様。なにを言っているかわからないみたいなやつ）
    仕様をわかりやすく説明し直してください。実装は教えないでください。
    考え方を教えるのはアリです。言い方を変えると、一緒に考えるのはアリで、
    答えを教えるのはナシです。
  * 参加者同士で実装を教え合ったり相談しあったりするのはアリです。
  * 他の参加者のコードを見るのはアリです。
    「他の人が書いたコードから学ぶ」ことはこの勉強会で大事にしていることだからです。
    そのときは、どうしてそのコードがよいかという理由を考えてください。
  * 仕様1を実装したらメンターに確認してもらってください。
  * 気になるところはメンターに聞いてください。
  * メンターからOKをもらって、進め方もわかったら、
    休憩に入ってください。

## 10:50 休憩

10分休憩。

  * [アンケート](https://creativesurvey.com/reply/9db385b69ad5d5a6216a84bd29888f)
    を書けるところは今後の休憩の時に随時書いていってねと連絡する。
    （アンケートはタブを閉じても回答を再開可能。）

## 11:00 課題を実装

目的:

  * 「自分が思うリーダブルコード」を披露すること

目的のために達成したいこと:

  * ある程度実装を進めること
    * 実装が進まないとリーダブルコードどころではないから
    * 実装が進んでいないからといってメンターが助けたらダメなのが難しいところ。
      全部自分で書くのは必須。
  * リーダブルコード（本）を先読みしてきた人はそこで得た知識を活かしていること

やること:

  * 各自、課題を進めてください。
  * 工夫したらmemo.mdに書くこと、というのを定期的にアナウンスすること。
  * 工夫したらmemo.mdに書くこと、というスライドをプロジェクターで映しておくこと。

## 12:00 スポンサーからのショートセッション

スポンサー・メンターのことを知る機会です。1社10分ほどお話があります。

## 12:30 （昼食: クックパッド様ご提供の無料ランチ！）

スポンサー・メンターの人と一緒にランチを食べます。いろんなことを聞ける
チャンスです。

（この間にトレーナーは参加者が書いたコードを確認して、よいコードの書き
方を探す。午後、どの人同士でチェンジするかもこのときに考えておいたほう
がいいかも。）

## 13:30 コード解説

目的:

  * 「コードを書く」という意識だけでなく、
    「コードを読む」という意識を持つこと

目的のために達成したいこと:

  * 参加者が「よいコード」とはなにかを考えるようになる

やること:

  * 午前中に実装したコードをいくつかピックアップして、トレーナーがよい
    コードの書き方を解説します。
  * トレーナーはそれぞれのよいコードに対して次のことを説明します。
    * このよいコードの書き方につけた名前
    * よいコードだと思った理由、よいコードを見つけた経緯

## 13:50 他参加者のコードを引き継いで、コーディング

目的:

  * 実際に「コードを読む」こと。さらに「コードを書く」こと。

目的のために達成したいこと:

  * トレーナーはスライドを使って↓に書いているやり方を説明する。
    （スライドはcode-change/や↓を参照。）
    * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2014-readable-code-2-code-change/)
    * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2014-readable-code-2-code-change)
  * 参加者が「よいコード」を見つけること。
    後でまとめるので、「よいコード」と判断した理由や、
    どのようにして「よいコード」を見つけたか（どうやって気付いたか）もメモしておく。
  * 見つけた「よいコード」をその後の開発に役立てること。
  * 参加者が「悪いコード」ばかりに目がいっているときは「なぜ悪いと思う」
    かの理由を明確にし、改善案（よいコード案）を考えること。

やること:

  * グループの誰かのリポジトリーをforkしてください。
    * アイスブレーク時にすでにそのリポジトリーをforkしている場合は、一
      度削除してからforkしなおしてください。
    * ある1人のコードをn人がforkしてもいいかもしれない。
      最終的に違うコードになるだろうけど、どうしてそうなったかとか
      どの観点だとどっちがいいかとか考える機会になっていいかもしれない。
  * forkしたリポジトリーがやっていたところから課題を再開してください。
    * 午前中と同じ仕様を実装することになるかもしれないけど、OK。
    * ベースが違うので違う実装が適しているかもしれない。
  * よいコードを見つけたら「memo.md」にどうしてそのコードがよかったかを
    メモしていってください。前の人が作った「memo.md」があればそこに追記
    してください。なければ新しく作ってください。
    * ヒント: メモは後で他の人にどうしてそのコードがよいのかを説明する
      ために使うので、次の情報も含んでいると役に立つでしょう。
      * 対象のコードへの参照
        （GitHubは特定のリビジョンのコードに対するURLがあります。）
      * どうしてそのコードがよいと思ったか
      * そのコードがよいと気づいたきっかけ

## 15:20 休憩

10分休憩。

  * [アンケート](https://creativesurvey.com/reply/9db385b69ad5d5a6216a84bd29888f)
    を書けるところは今後の休憩の時に随時書いていってねと連絡する。
    （アンケートはタブを閉じても回答を再開可能。）

## 15:30 グループふりかえり（コードを読み書きして気づいたよいことを共有）

目的:

  * 各自が見つけたよいコードをグループで共有する

目的のために達成したいこと:

  * 参加者が「よいコード」を見つけること。
  * 参加者が「悪いコード」ばかりに目がいっているときは「なぜ悪いと思う」
    かの理由を明確にし、改善案（よいコード案）を考えること。
  * 参加者が「よいコード」の見つけ方を共有すること。

やること:

  * スライドを使ってやることを説明（retrospective/以下にあるスライドを参照。）
    * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2014-readable-code-2-retrospective/)
    * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2014-readable-code-2-retrospective)
  * グループでよいコードとその理由の共有
    * メンターはグループが悪いコード自慢に終始しないようにいい感じに誘導して欲しい。
  * 共有したよいコードを発表できるようにまとめる
    * スライドは用意しないで、メモを用意してもらう。
      （メモはGitHubにpushする。）
    * だれか1人を選んでグループ用のメモをまとめるリポジトリーにする。
    * そのリポジトリーに「group-memo.md」を作って、そこにグループで共有した
      メモをまとめる。
    * 発表では実際のコードとメモを使いながら説明。
    * 発表時にコードをプロジェクターに映す人を1人決めること。
  * 進め方:
    * 15:35-15:50: 3-4人のサブグループにわかれて時計回りで自分が見つけ
      たよいコードを他の人に説明する。このとき自分のノートパソコンの画
      面にコードをうつして、それを他の人に見せながら説明すること。
    * 15:50-15:55: グループ内で上位2つのよいコードを選ぶ。選び方は多数決。
    * 15:55-16:00: プロジェクターで画面を映す人と説明する人を決める。
  * メンターは各自がみんなに説明するときに言語化するのを助けてあげて欲しい。
    たぶん、うまく説明できないだろうから。
    ふんふん聞きながら質問して考えを深めていってもらうのでいいと思う。

## 16:00 グループ発表（グループだけでなく全員でよいことを共有）

目的:

  * グループが見つけたよいコードを全体で共有する

目的のために達成したいこと:

  * リーダブルコード（本）に書いていない「よいコード」のパターンが見つかる。
    * 自分でリーダブルコードを見つけられるんだという経験をして欲しい

やること:

  * トレーナーが発表の目的とかを簡単に説明（スライドはいらない）
  * グループ毎に発表
    * スライドは使わない。実際のコードとメモを使って説明。
  * 発表時間は1グループ10分。（質疑応答込み）
    * Ruby * 2
    * Python * 1
    * PHP * 1
    * Java * 3
    * C * 1
    * 合計8グループ

3グループ終わったら10分間の休憩を入れる。

  * [アンケート](https://creativesurvey.com/reply/9db385b69ad5d5a6216a84bd29888f)
    を書けるところは今後の休憩の時に随時書いていってねと連絡する。
    （アンケートはタブを閉じても回答を再開可能。）

## 17:30 まとめ

conclusion/以下にあるスライドを参照。

  * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2014-readable-code-2-conclusion/)
  * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2014-readable-code-2-conclusion)

## 17:35 質疑応答

  * メンターは前にくる
  * トレーナーが司会をする
  * 参加者から質問を受け付ける

## 17:50 アンケート記入

  * [アンケート](https://creativesurvey.com/reply/9db385b69ad5d5a6216a84bd29888f)
    は休憩時間中にも書いてよい

## 18:00 撤収＆移動

## 18:10 懇親会

クックパッド様社屋の目の前のレストラン:
[カフェ ラ・ボエム 白金](http://tabelog.com/tokyo/A1316/A131602/13001571/)


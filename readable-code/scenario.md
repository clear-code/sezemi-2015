# シナリオ

## 目的

2015年のSEゼミのテーマは「OSS開発」です。2015年のSEゼミ第1弾の「リーダ
ブルコード勉強会」の目的は「参加者のリーダブルコード力のレベルアップ」
です。

## 目的の背景

どうしてリーダブルコード力のレベルアップを目的にしているかというと、
OSS開発ではリーダブルなコードが重要だからです。多くのOSSは広く誰からも
改良・バグ修正の変更を受けつけています。もちろん、みなさんも改良・バグ
修正の変更を提案することができます。そして、2015年のSEゼミはそれを支援
します。

みなさんの改良・バグ修正を取り込むかどうかはそのOSSの開発者が判断しま
す。妥当なら取り込みますし、方針に合わなければ取り込まれないこともあり
ます。いずれにしてもなにかしら判断します。もし、みなさんが提案する変更
が既存のコードを変えるものなら、そのコードが何をどう変えるものなのかは
判断の大きな材料になります。そのコードがリーダブルなコードで書かれてい
れば、OSSの開発者は判断しやすくなります。わかりにくければ、判断自体を
放棄してしまうかもしれません。

今までみなさんが書いてきたコードは「誰かに読まれること」を意識していな
いコードの方が多いでしょう。しかし、OSSの開発では「誰かに読まれること」
は当たり前です。そのため、この勉強会ではOSSの開発にとって重要な「読む
人が読みやすいコード」を書ける力、「リーダブルコード力」のレベルアップ
を目的とします。

## 目的の実現方法

「リーダブルコード力のレベルアップ」という目的を実現するために、「本や
他の人からリーダブルコードの書き方を教わる」方法ではなく、「自分でリー
ダブルコードの書き方を見つける」方法を使います。この方法を使う最大の理
由は、OSSの開発がこの方法に適しているからです。

リーダブルコードの書き方を見つけるには他の人が書いたコードを読みます。
他の人が書いたコードからリーダブルコードの書き方を見つけるのです。OSS
はコードを読めるのでこの方法に向いています。

この勉強会ではOSSのコードを読んでリーダブルコードを見つけるのではなく、
他の人が勉強会中に書いたコードを読んでリーダブルコードを見つけます。い
きなりOSSのコードを読んでリーダブルコードを見つけるのは難しいからです。
この勉強会では参加者同士で練習をします。

「コードから自分でリーダブルコードの書き方を見つける」方法は「本や他の
人からリーダブルコードの書き方を教わる」方法よりも即効性はありません。
しかし、習慣にして継続すれば「本や他の人からリーダブルコードの書き方を
教わる」方法よりもリーダブルコード力はあがります。なぜなら、まだ言語化
されていないリーダブルコードの書き方も身につけることができるからです。

「本や他の人からリーダブルコードの書き方を教わる」方法はリーダブルコー
ド（本）を読んだりして各自で実施してください。この勉強会では、「コード
から自分でリーダブルコードの書き方を見つける」方法を体験し、身につける
きっかけとしてください。

なお、「コードから自分でリーダブルコードの書き方を見つける」方法はOSS
の開発の世界では当たり前のことです。OSSの開発ではコードを読むことは当
たり前の文化だからです。コードを読むことが当たり前なので、そこからリー
ダブルなコードを見つけて自分のものにしていくということも当たり前に行わ
れています。よって、この勉強会で得られることはOSSの開発に参加する中で
も役に立つことです。

## 目的達成の評価方法

他の参加者のコードからリーダブルコードを見つけ、取り入れ、自分のコード
をよりリーダブルなコードにできたら「リーダブルコード力のレベルアップ」
という目的を達成できたと判断します。

ただし、「コードから自分でリーダブルコードの書き方を見つける」方法が習
慣になっているかどうかも追加で評価します。理由は次の2点です。

  * この方法は習慣にすることにより効果が大きくなる方法だから
  * OSSの開発では当たり前の方法なので、OSSの開発に参加するにあたって習
    慣にしておいた方がよいから

しかし、習慣になったかどうかは1日で判断することはできません。そのため、
次の定性的な基準で判断します。

  * これからは1つ以上のOSSプロジェクトのコードや日々のコミットを
    継続的に読もうと思うか
  * 企業研究の一環として、志望先企業が公開しているOSS製品の
    ソースコードを事前に見るようにしたり、
    採用面接時に「御社のコードを見せてください」とお願いしたり
    といった要領で、実際に書かれているコードに目を通そうと思うか
  * 採用面接時に
    「御社の開発チームでは製品のコードに関してどのような方法で
    情報共有を図っていますか？」
    「御社の開発チームは日々の開発でチーム内の他のメンバー
    のコードを読みあっていますか？」
    など、リーダブルなコードを読み書きする文化の有無について聞くと思うか

## 開始前

  * 参加者は開発言語別にグループ分けされていること
    * 座席を事前に決めておくのでそこに座ってもらう
  * 参加者はGitHubアカウントが書かれた名札をつけていること
  * 早く着いた参加者には [シナリオ](scenario.md) または [課題](task.md) の説明を読んでいてもらう
  * メンターはGitHubアカウントが書かれた名札をつけていること
    * 開発に参加しているOSSのプロダクト名も書かれているとなおよい
  * メンターは「${自分のアカウント名}-sezemi-2015-readable-code」というリポジトリーを作っておくこと

## 10:00 アイスブレーク1

（主催のSEプラスさんによるもの）

## 10:05 アイスブレーク2

目的:

  * 参加者がいつも通りにコードを書ける状態になること

目的のために達成したいこと:

  * 参加者がリラックスすること
  * 同じグループの人たちがなじむこと
  * 勉強会の会場でいつも通りGit・GitHubを使えることを確認すること
    * 問題があったらこの時点で解決しておきたい
  * 声をだすこと

やること:

  * トレーナーはスライドを使って↓に書いているやり方を説明する。
    （スライドはicebreaker/や↓を参照。）
    * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2015-readable-code-icebreaker/)
    * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2015-readable-code-icebreaker)
    * リポジトリーにREADME.mdを作り、次の内容を書く。
      * 担当グループの開発言語。
      * メンターの自己紹介。
  * 自分のGitHubアカウントで
    「${自分のアカウント名}-sezemi-2015-readable-code」
    というリポジトリーを作る。
  * 「README.md」を作って、そこに開発言語を書いてcommit & pushする。
    * プログラムを書く時に使うテキストエディターやIDEを使うこと。
  * 「${自分のアカウント名}.md」を作って、簡単に自己紹介文を書いて
    commit & pushする。
    * プログラムを書く時に使うテキストエディターやIDEを使うこと。
    * 誰でも見れる状態になるので、公開情報だけ書くように注意喚起すること。
  * pushしたらメンターに自分のリポジトリーを伝える。伝え方は以下のどれか。
    * メンターのリポジトリーのIssueに自分のリポジトリーのURLを書き込む。
      書き込んだらメンターに確認してもらう。
    * メンターに口頭で自分のリポジトリーを伝える。
  * メンターが全員のリポジトリーを集めたら終了！
  * 時間が余ったら、グループでまだ終わっていない人をサポートしよう。
  * グループの人が全員できたら [シナリオ](scenario.md) または
    [課題](task.md) を予習。

ヒント:

  * グループでつまづいている人がいたら助けてあげよう。

## 10:20 進め方の説明

introduction/以下にあるスライドを参照。

  * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2015-readable-code-introduction/)
  * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2015-readable-code-introduction)

## 10:35 練習

目的:

  * 参加者が今日の開発の流れを理解すること

目的のために達成したいこと:

  * 実際に少しやってみてうまくいくこと
    * 問題があったらこの時点で解決しておきたい
  * メンターと話すこと
    * 開発が始まってから、いざ困ったことがあったとき、
      メンターに声をかけることを気負いしないようにしたい。
      声をかけられずに困ったまま時間が過ぎていったということを
      なくしたい。
    * メンターは、参加者に話しやすいイメージを持ってもらうとよさそう。

やること:

  * トレーナーはスライドを使いながら[課題](task.md)の最初に書いている概
    要と進め方を説明します。（スライドはexercise/や↓を参照。）
    （大事なことなので今日の目的はなんなのかを重点的に説明します。）
    * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2015-readable-code-exercise/)
    * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2015-readable-code-exercise)
  * 実際に仕様1を実装してください。
  * 課題は「${自分のアカウント名}-sezemi-2015-readable-code」に
    commit & pushしていってください。
  * 工夫したことがあったら「memo.md」というファイルを作ってメモしていっ
    てください。このファイルもリポジトリーにcommit & pushしていってください。
  * メンターは仕様を理解できない人がいたら
    （実装方法じゃなくて、仕様。なにを言っているかわからない、みたいなやつ）
    仕様をわかりやすく説明し直してください。実装は教えないでください。
    考え方を教えるのはアリです。言い方を変えると、一緒に考えるのはアリで、
    答えを教えるのはナシです。
  * 参加者同士で実装を教え合ったり相談しあったりするのはアリです。
  * 他の参加者のコードを見るのはアリです。
    「他の人が書いたコードから学ぶ」ことはこの勉強会で大事にしていることだからです。
    そのときは、どうしてそのコードがよいかという理由を考えてください。
  * 仕様1を実装したらメンターに確認してもらってください。
  * 気になるところはメンターに聞いてください。
  * メンターからOKをもらって、進め方もわかったら、
    休憩に入ってください。

## 10:50 休憩

10分休憩。

  * [アンケート](https://creativesurvey.com/reply/18e7d1aba3b7efb18d96be7618c8f6)
    を書けるところは今後の休憩の時に随時書いていってねと連絡する。
    （アンケートはタブを閉じても回答を再開可能。）

## 11:00 課題を実装

目的:

  * 「自分が思うリーダブルコード」を披露すること

目的のために達成したいこと:

  * ある程度実装を進めること
    * 実装が進まないとリーダブルコードどころではないから
    * 実装が進んでいないからといってメンターが助けたらダメなのが難しいところ。
      全部自分で書くのは必須。
  * リーダブルコード（本）を読んで得た知識を活かしていること

やること:

  * 各自、課題を進めてください。
  * 工夫したらmemo.mdに書くこと、というのを定期的にアナウンスすること。
  * 工夫したらmemo.mdに書くこと、というスライドをプロジェクターで映しておくこと。
  * 参加者から声をかけるのには抵抗があることが多いので、必要ならメンター
    から声をかけてサポートする。
    * 声をかけるときは「どのくらい進みました？」とか「実装進んでいます
      か？」とか実装を進めることが目的のような声のかけ方はしない。
    * 「リーダブルコードかけていますか？」とか「どのくらいメモは増えま
      したか？」のようにリーダブルなコードをかくことを意識するような声
      のかけ方にする。
  * メンターもリーダブルなコードを見つけたら自分のリポジトリーの
    memo.mdにメモしておく。後半でメンターが見つけたリーダブルコードを
    紹介する時間があり、そこで使えるからです。

## 12:00 （昼食: フリークアウトさんご提供の無料ランチ！）

スポンサー（と運営）の人と一緒にランチを食べます。いろんなことを聞くチャ
ンスです。

（この間にトレーナーは参加者が書いたコードを確認して、リーダブルなコー
ドの書き方を探す。午後、どの人同士でチェンジするかもこのときに考えてお
いたほうがいいかも。）

## 13:00 スポンサーからのLightning Talk

スポンサー・メンター・インターンなどを知る機会です。1社5分ほどお話があります。

登壇予定:

  * クラウドワークスさん
  * トレジャーデータさん
  * フリークアウトさん
  * ピクシブさん
  * クックパッドさん
  * エス・エム・エスさん

## 13:30 メビュー

目的:

  * 「コードを書く」という意識だけでなく、
    「コードを読む」という意識を持つこと

目的のために達成したいこと:

  * 参加者が参考として使える「リーダブルコードの見つけ方例」を知る
  * 参加者が「リーダブルコードを見つける」ことに意識を向ける

やること:

  * 午前中に実装したコードをいくつかピックアップして、トレーナーの視点
    で見つけたリーダブルなコードを紹介します。
  * 「メビュー」とは「Mentor's View」の略でメンターが自分の視点でコー
    ドを読んで見つけたリーダブルなコードについて、読んだときに感じたこ
    とや関連する重要な考え方などについて共有することです。
    * 響きがレビューと似ていますが違うものです。レビューは問題がないか
      をチェックすることが目的ですが、メビューはメンターの視点を共有す
      ることが目的です。
    * この勉強会では、トレーナーもメンターの一種という位置づけとして考
      え、トビューではなくメビューと呼びます。
  * トレーナーはそれぞれのリーダブルコードに対して次のことを説明します。
    * このリーダブルコードの書き方につけた名前
    * リーダブルコードだと思った理由、リーダブルコードを見つけた経緯

## 13:40 他参加者のコードを引き継いで、コーディング

目的:

  * 実際に「コードを読んでリーダブルなコードを見つける」こと。
  * さらに「見つけたリーダブルなコードを活かしてコードを書く」こと。

目的のために達成したいこと:

  * トレーナーはスライドを使って↓に書いているやり方を説明する。
    （スライドはcode-change/や↓を参照。）
    * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2015-readable-code-code-change/)
    * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2015-readable-code-code-change)
  * 参加者が「リーダブルなコード」を見つけること。
    * 後でまとめるので、「リーダブルなコード」と判断した理由や、どのよ
    うにして「リーダブルなコード」を見つけたか（どうやって気付いたか）
    もメモしておく。
  * 見つけた「リーダブルなコード」をその後の開発に役立てること。
  * 参加者が「悪いコード」ばかりに目がいっているときは「なぜ悪いと思う」
    かの理由を明確にし、改善案（リーダブルなコード案）を考えること。

やること:

  * グループの誰かのリポジトリーをforkしてください。
    * ある1人のコードをn人がforkしてもよい。
      最終的に違うコードになるだろうけど、どうしてそうなったかとか
      どの観点だとどっちがいいかとか考える機会になってよさそう。
  * forkしたリポジトリーがやっていたところから課題を再開してください。
    * 午前中と同じ仕様を実装することになるかもしれないけど、OK。
    * ベースが違うので違う実装が適しているかもしれない。
  * リーダブルなコードを見つけたら「memo.md」にどうしてそのコードがよ
    かったかをメモしていってください。前の人が作った「memo.md」があれ
    ばそこに追記してください。なければ新しく作ってください。
    * ヒント: メモは後で他の人にどうしてそのコードがよいのかを説明する
      ために使うので、次の情報も含めるとよいです。
      * 対象のコードへの参照
        （GitHubは特定のリビジョンのコードに対するURLがあります。）
      * どうしてそのコードがリーダブルだと思ったか
      * そのコードがリーダブルだと気づいたきっかけ

## 15:20 休憩

10分休憩。

  * [アンケート](https://creativesurvey.com/reply/18e7d1aba3b7efb18d96be7618c8f6)
    を書けるところは今後の休憩の時に随時書いていってねと連絡する。
    （アンケートはタブを閉じても回答を再開可能。）

## 15:30 グループふりかえり（コードを読み書きして気づいたリーダブルなコードを共有）

目的:

  * 各自が見つけたリーダブルなコードをグループで共有する

目的のために達成したいこと:

  * 参加者が「リーダブルコード」を見つけること。
  * 参加者が「悪いコード」ばかりに目がいっているときは「リーダブルコー
    ド」を見つける方向に視点を変えること。
    * それがどうしてもムリでムリでムリでしょうがないなら「なぜ悪いと思
      う」かの理由を明確にし、改善案（よいコード案）を考えること。
  * 参加者が「リーダブルなコード」の見つけ方を共有すること。

やること:

  * スライドを使ってやることを説明（retrospective/以下にあるスライドを参照。）
    * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2015-readable-code-retrospective/)
    * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2015-readable-code-retrospective)
  * グループでリーダブルなコードとその理由を共有
    * メンターはグループが悪いコード自慢に終始しないようにいい感じに誘導して欲しい。
    * グループのだれか1人を選ぶ（誰でもよい）
    * 選んだ人のリポジトリーにIssueを作る
    * グループでリーダブルなコードを共有しながらIssueのコメントに次の項目を追加していく
      * リーダブルなコード（該当コードのコピペかコードへのリンク）
      * どうしてリーダブルだと思ったか
      * リーダブルなコードの一言説明（タイトルとかラベルとかと考えればOK）
      * そのリーダブルなコードを見つけたきっかけ
  * グループで共有したリーダブルなコードを全体で共有できるようにまとめる
    * 共有したリーダブルなコードから2つ選ぶ
    * 選ぶ基準は問わない。特にリーダブルなコードを2つでもよいし、印象
      的だった2つでもよいし、数が多かった2つでもよい。基準を決められな
      いなら多数決。
    * 決めた2つを
      [clear-code/sezemi2015にあるIssue「リーダブルコード：グループで共有したリーダブルなコード」](https://github.com/clear-code/sezemi-2015/issues/1)
      に書く
  * タイムスケジュール:
    * 15:35-15:50: グループ毎に時計回りで自分が見つけたリーダブルなコー
      ドを1つずつ他の人に説明する。このとき自分のノートパソコンの画面
      にコードをうつして、それを他の人に見せながら説明すること。（みん
      ながそれぞれ自分のノートパソコンで同じURLを見ながら説明するのは
      知識の共有に向いていないので同じ画面を見ること。）説明したら自分
      でIssueに書く。
    * 15:50-16:00: グループ内でリーダブルなコードを2つ選ぶ。リーダブル
      なコードを選ぶ基準は自由。決められない場合は多数決。
  * メンターは各自がみんなに説明するときに言語化するのを助けてあげて欲しい。
    たぶん、うまく説明できないだろうから。
    ふんふん聞きながら質問して考えを深めていってもらうのでいいと思う。

## 16:00 休憩

10分休憩。

  * [アンケート](https://creativesurvey.com/reply/18e7d1aba3b7efb18d96be7618c8f6)
    を書けるところは今後の休憩の時に随時書いていってねと連絡する。
    （アンケートはタブを閉じても回答を再開可能。）

この休憩の間にやること。

  * 運営: Issueに集まったリーダブルなコードをグループ化し、スムーズに
    全体に共有できるようにまとめる。
  * メンター: 全体に紹介したいリーダブルなコードがあれば
    [clear-code/sezemi2015にあるIssue「リーダブルコード：メンターが紹介したいリーダブルなコード」](https://github.com/clear-code/sezemi-2015/issues/2)
    にコメントしておく。

## 16:10 グループで共有したリーダブルなコードを紹介

目的:

  * グループが見つけたリーダブルなコードを全体で共有する

目的のために達成したいこと:

  * リーダブルコード（本）に書いていない「リーダブルなコード」のパター
    ンが見つかる。
    * 自分でリーダブルコードを見つけられるんだという経験をして欲しい

やること:

  * トレーナーが
    [clear-code/sezemi2015にあるIssue「リーダブルコード：グループで共有したリーダブルなコード」](https://github.com/clear-code/sezemi-2015/issues/1)
    にまとまったリーダブルなコードを紹介
  * 内容がわからなかったり追加で聞きたいことがあったら随時各グループに質問
  * 質疑応答も随時実施

## 16:20 スポンサーからのメビュー

目的:

  * 参加者に違う視点（メンターの視点）だと違ったリーダブルなコードが見
    つかるということを体験してもらう

目的のために達成したいこと:

  * スポンサーのメンター5人くらいがそれぞれの視点でリーダブルなコード
    を紹介する

やること:

  * [clear-code/sezemi2015にあるIssue「リーダブルコード：メンターが紹介したいリーダブルなコード」](https://github.com/clear-code/sezemi-2015/issues/2)
    に書いてもらった順に、書いたメンターがリーダブルなコードを紹介する。
  * コードはトレーナーが画面に表示する。メンターは紹介するだけでよい。
  * 随時質疑応答

## 16:50 まとめ

conclusion/以下にあるスライドを参照。

  * [スライド on Rabbit Slide Show](http://slide.rabbit-shocker.org/authors/kou/sezemi-2015-readable-code-conclusion/)
  * [スライド on SlideShare](http://www.slideshare.net/kou/sezemi-2015-readable-code-conclusion)

## 17:00 質疑応答

  * メンターは前にくる
  * トレーナーが司会をする
  * 参加者から質問を受け付ける

## 17:30 アンケート記入

  * [アンケート](https://creativesurvey.com/reply/18e7d1aba3b7efb18d96be7618c8f6)
    は休憩時間中にも書いてよい

## 18:00 懇親会

会場でそのままピザと飲み物（ビール/ソフトドリンク）をいただきましょう。
メンターにコードレビューしてほしい方はここでお願いしてみましょう！
